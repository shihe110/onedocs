(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{497:function(s,a,t){"use strict";t.r(a);var r=t(42),e=Object(r.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"oracle的并发能力"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#oracle的并发能力"}},[s._v("#")]),s._v(" Oracle的并发能力")]),s._v(" "),t("p",[s._v("Oracle的最大并发数由PROCESSES和SESSIONS决定，归根结底由操作系统和硬件配置决定。")]),s._v(" "),t("p",[s._v("根据对Tomcat、Druid、Oracle三者的与并发相关的参数进行了解，结合经验和网上的部分说法后，得出如下数据：")]),s._v(" "),t("ul",[t("li",[s._v("1.Tomcat的单机并发最大线程数为500到700。")]),s._v(" "),t("li",[s._v("2.Druid数据库连接池的推荐配置最大并发数（maxActive）为20.")]),s._v(" "),t("li",[s._v("3.Oralce的最大进程数（PROCESSES）为300，最大SESSIONS为300 * 1.5 + 22 = 477 （这个公式对应Oracle 11g版本）")]),s._v(" "),t("li",[s._v("4.Nginx在windows上的最大并发数为1024，在linux为8192.（受限于文件系统的最大文件打开数）。")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("数据库最大并发 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v("\n数据库可以支持的连接池个数 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("477")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("个连接池对应"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("个Tomcat，可以支撑的线程数：\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11500")]),s._v("个线程\n")])])]),t("p",[s._v("也就是，数据库按照PROCESSES=300的配置来的话，可以压榨的极限是11500并发。这里补充一点，对于Spring框架的Web应用来说，Spring会用一个线程来处理一次用户请求（注意是一次请求，不是一次会话），处理完一次请求后，线程即回到等待状态，等待下一次请求调用。")]),s._v(" "),t("p",[s._v("所以11500个并发并不代变11500个用户，具体要看实际场景中一个用户的单位时间访问量。")])])}),[],!1,null,null,null);a.default=e.exports}}]);