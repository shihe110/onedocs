<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mybatis入门 | 毫末之木</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/onedocs/logo.png">
    <meta name="description" content="合抱之木生于毫末，九层之台起于累土，千里之行始于足下">
    <link rel="preload" href="/onedocs/assets/css/0.styles.de272f6a.css" as="style"><link rel="preload" href="/onedocs/assets/js/app.ffe45532.js" as="script"><link rel="preload" href="/onedocs/assets/js/2.2038ef08.js" as="script"><link rel="preload" href="/onedocs/assets/js/69.b5e43a27.js" as="script"><link rel="prefetch" href="/onedocs/assets/js/10.1a437389.js"><link rel="prefetch" href="/onedocs/assets/js/100.ccba24a3.js"><link rel="prefetch" href="/onedocs/assets/js/101.faa07c19.js"><link rel="prefetch" href="/onedocs/assets/js/102.211dae6b.js"><link rel="prefetch" href="/onedocs/assets/js/103.2fcd3340.js"><link rel="prefetch" href="/onedocs/assets/js/104.8c1cd4c1.js"><link rel="prefetch" href="/onedocs/assets/js/105.b543eebd.js"><link rel="prefetch" href="/onedocs/assets/js/106.f1019698.js"><link rel="prefetch" href="/onedocs/assets/js/107.8448262d.js"><link rel="prefetch" href="/onedocs/assets/js/108.64b9f690.js"><link rel="prefetch" href="/onedocs/assets/js/109.50e86ae2.js"><link rel="prefetch" href="/onedocs/assets/js/11.ffc628b1.js"><link rel="prefetch" href="/onedocs/assets/js/110.4efd827d.js"><link rel="prefetch" href="/onedocs/assets/js/111.86153c1d.js"><link rel="prefetch" href="/onedocs/assets/js/112.04f53ed4.js"><link rel="prefetch" href="/onedocs/assets/js/113.f3b0b8f0.js"><link rel="prefetch" href="/onedocs/assets/js/114.cdd96c41.js"><link rel="prefetch" href="/onedocs/assets/js/115.19443fe6.js"><link rel="prefetch" href="/onedocs/assets/js/116.62ad8066.js"><link rel="prefetch" href="/onedocs/assets/js/117.b2ef01f2.js"><link rel="prefetch" href="/onedocs/assets/js/118.a5203770.js"><link rel="prefetch" href="/onedocs/assets/js/119.6a818398.js"><link rel="prefetch" href="/onedocs/assets/js/12.b0bdf877.js"><link rel="prefetch" href="/onedocs/assets/js/120.e18acaa5.js"><link rel="prefetch" href="/onedocs/assets/js/121.6b12c7bd.js"><link rel="prefetch" href="/onedocs/assets/js/122.74ac960b.js"><link rel="prefetch" href="/onedocs/assets/js/123.72e2fbca.js"><link rel="prefetch" href="/onedocs/assets/js/124.c1e3ca56.js"><link rel="prefetch" href="/onedocs/assets/js/125.1588c2ae.js"><link rel="prefetch" href="/onedocs/assets/js/126.58a286d8.js"><link rel="prefetch" href="/onedocs/assets/js/127.aa3dcccd.js"><link rel="prefetch" href="/onedocs/assets/js/128.21ac1197.js"><link rel="prefetch" href="/onedocs/assets/js/129.46847aab.js"><link rel="prefetch" href="/onedocs/assets/js/13.52c00dbc.js"><link rel="prefetch" href="/onedocs/assets/js/130.298c9b64.js"><link rel="prefetch" href="/onedocs/assets/js/131.3dadddbf.js"><link rel="prefetch" href="/onedocs/assets/js/132.4b7a9d9f.js"><link rel="prefetch" href="/onedocs/assets/js/133.9d7ed1fc.js"><link rel="prefetch" href="/onedocs/assets/js/134.00e9f8aa.js"><link rel="prefetch" href="/onedocs/assets/js/135.046dd2b5.js"><link rel="prefetch" href="/onedocs/assets/js/136.f794833e.js"><link rel="prefetch" href="/onedocs/assets/js/137.7a7f148c.js"><link rel="prefetch" href="/onedocs/assets/js/138.52efc1d1.js"><link rel="prefetch" href="/onedocs/assets/js/139.6fe14ded.js"><link rel="prefetch" href="/onedocs/assets/js/14.bc469fba.js"><link rel="prefetch" href="/onedocs/assets/js/140.2c60663d.js"><link rel="prefetch" href="/onedocs/assets/js/141.97dc8d67.js"><link rel="prefetch" href="/onedocs/assets/js/142.5b3a7318.js"><link rel="prefetch" href="/onedocs/assets/js/143.8b08bbfd.js"><link rel="prefetch" href="/onedocs/assets/js/144.cdfbf3a4.js"><link rel="prefetch" href="/onedocs/assets/js/145.c8aef54b.js"><link rel="prefetch" href="/onedocs/assets/js/146.b19460b2.js"><link rel="prefetch" href="/onedocs/assets/js/147.ce0c5b7f.js"><link rel="prefetch" href="/onedocs/assets/js/148.529b548b.js"><link rel="prefetch" href="/onedocs/assets/js/149.364a94f1.js"><link rel="prefetch" href="/onedocs/assets/js/15.ff3454ff.js"><link rel="prefetch" href="/onedocs/assets/js/150.e2735533.js"><link rel="prefetch" href="/onedocs/assets/js/151.9347bba1.js"><link rel="prefetch" href="/onedocs/assets/js/152.9b7f3d2a.js"><link rel="prefetch" href="/onedocs/assets/js/153.eee2b0a9.js"><link rel="prefetch" href="/onedocs/assets/js/154.368eacd3.js"><link rel="prefetch" href="/onedocs/assets/js/155.89c90956.js"><link rel="prefetch" href="/onedocs/assets/js/156.61ee33a0.js"><link rel="prefetch" href="/onedocs/assets/js/157.025e2f86.js"><link rel="prefetch" href="/onedocs/assets/js/158.a8901527.js"><link rel="prefetch" href="/onedocs/assets/js/159.2d3bf1f6.js"><link rel="prefetch" href="/onedocs/assets/js/16.c71cb557.js"><link rel="prefetch" href="/onedocs/assets/js/160.ff01d279.js"><link rel="prefetch" href="/onedocs/assets/js/161.b49500a5.js"><link rel="prefetch" href="/onedocs/assets/js/162.a20dc93f.js"><link rel="prefetch" href="/onedocs/assets/js/163.d50dcffc.js"><link rel="prefetch" href="/onedocs/assets/js/164.4e494976.js"><link rel="prefetch" href="/onedocs/assets/js/165.9f6936b5.js"><link rel="prefetch" href="/onedocs/assets/js/166.f0ca204c.js"><link rel="prefetch" href="/onedocs/assets/js/167.595b4bf1.js"><link rel="prefetch" href="/onedocs/assets/js/168.65919d67.js"><link rel="prefetch" href="/onedocs/assets/js/169.84b34887.js"><link rel="prefetch" href="/onedocs/assets/js/17.4d655bce.js"><link rel="prefetch" href="/onedocs/assets/js/170.4c1b80a3.js"><link rel="prefetch" href="/onedocs/assets/js/171.3ff7337f.js"><link rel="prefetch" href="/onedocs/assets/js/172.8b4cb8ab.js"><link rel="prefetch" href="/onedocs/assets/js/173.fc8e5978.js"><link rel="prefetch" href="/onedocs/assets/js/174.647350f2.js"><link rel="prefetch" href="/onedocs/assets/js/18.0bb813b0.js"><link rel="prefetch" href="/onedocs/assets/js/19.5a268781.js"><link rel="prefetch" href="/onedocs/assets/js/20.8dd390a4.js"><link rel="prefetch" href="/onedocs/assets/js/21.96ca15bc.js"><link rel="prefetch" href="/onedocs/assets/js/22.885a1009.js"><link rel="prefetch" href="/onedocs/assets/js/23.29a73b13.js"><link rel="prefetch" href="/onedocs/assets/js/24.0d5c5df4.js"><link rel="prefetch" href="/onedocs/assets/js/25.baad29b6.js"><link rel="prefetch" href="/onedocs/assets/js/26.8a098a21.js"><link rel="prefetch" href="/onedocs/assets/js/27.7b581506.js"><link rel="prefetch" href="/onedocs/assets/js/28.7e23aa6c.js"><link rel="prefetch" href="/onedocs/assets/js/29.68fc64b2.js"><link rel="prefetch" href="/onedocs/assets/js/3.12540836.js"><link rel="prefetch" href="/onedocs/assets/js/30.036871a4.js"><link rel="prefetch" href="/onedocs/assets/js/31.2cade23d.js"><link rel="prefetch" href="/onedocs/assets/js/32.9e3870ca.js"><link rel="prefetch" href="/onedocs/assets/js/33.d6d1323f.js"><link rel="prefetch" href="/onedocs/assets/js/34.e16c6a8a.js"><link rel="prefetch" href="/onedocs/assets/js/35.6c3a1825.js"><link rel="prefetch" href="/onedocs/assets/js/36.97cc8e22.js"><link rel="prefetch" href="/onedocs/assets/js/37.1a04f541.js"><link rel="prefetch" href="/onedocs/assets/js/38.430e1ec1.js"><link rel="prefetch" href="/onedocs/assets/js/39.687aaca1.js"><link rel="prefetch" href="/onedocs/assets/js/4.7d5f245c.js"><link rel="prefetch" href="/onedocs/assets/js/40.af4da617.js"><link rel="prefetch" href="/onedocs/assets/js/41.acd3e7fe.js"><link rel="prefetch" href="/onedocs/assets/js/42.a0277d91.js"><link rel="prefetch" href="/onedocs/assets/js/43.998ad566.js"><link rel="prefetch" href="/onedocs/assets/js/44.26993650.js"><link rel="prefetch" href="/onedocs/assets/js/45.528d3f27.js"><link rel="prefetch" href="/onedocs/assets/js/46.15879b94.js"><link rel="prefetch" href="/onedocs/assets/js/47.72ede961.js"><link rel="prefetch" href="/onedocs/assets/js/48.48c060be.js"><link rel="prefetch" href="/onedocs/assets/js/49.4292dcf9.js"><link rel="prefetch" href="/onedocs/assets/js/5.8f1f2014.js"><link rel="prefetch" href="/onedocs/assets/js/50.f2c13183.js"><link rel="prefetch" href="/onedocs/assets/js/51.4de1ab4c.js"><link rel="prefetch" href="/onedocs/assets/js/52.62ff6c44.js"><link rel="prefetch" href="/onedocs/assets/js/53.2f213d63.js"><link rel="prefetch" href="/onedocs/assets/js/54.85e79e88.js"><link rel="prefetch" href="/onedocs/assets/js/55.b198980f.js"><link rel="prefetch" href="/onedocs/assets/js/56.0f121882.js"><link rel="prefetch" href="/onedocs/assets/js/57.3cc55486.js"><link rel="prefetch" href="/onedocs/assets/js/58.2d76b579.js"><link rel="prefetch" href="/onedocs/assets/js/59.a841bcc6.js"><link rel="prefetch" href="/onedocs/assets/js/6.5626472a.js"><link rel="prefetch" href="/onedocs/assets/js/60.4b0bc1b3.js"><link rel="prefetch" href="/onedocs/assets/js/61.5cc9749e.js"><link rel="prefetch" href="/onedocs/assets/js/62.3f34ed18.js"><link rel="prefetch" href="/onedocs/assets/js/63.9f4b1aa7.js"><link rel="prefetch" href="/onedocs/assets/js/64.9d8e8d1e.js"><link rel="prefetch" href="/onedocs/assets/js/65.073f1c45.js"><link rel="prefetch" href="/onedocs/assets/js/66.5c8c03c8.js"><link rel="prefetch" href="/onedocs/assets/js/67.dad64a37.js"><link rel="prefetch" href="/onedocs/assets/js/68.79b0457b.js"><link rel="prefetch" href="/onedocs/assets/js/7.14db2944.js"><link rel="prefetch" href="/onedocs/assets/js/70.81f62b9c.js"><link rel="prefetch" href="/onedocs/assets/js/71.07fde858.js"><link rel="prefetch" href="/onedocs/assets/js/72.3bf4f68b.js"><link rel="prefetch" href="/onedocs/assets/js/73.7ef373ef.js"><link rel="prefetch" href="/onedocs/assets/js/74.0e640d75.js"><link rel="prefetch" href="/onedocs/assets/js/75.a709a6d1.js"><link rel="prefetch" href="/onedocs/assets/js/76.79e61efe.js"><link rel="prefetch" href="/onedocs/assets/js/77.db9ee8d3.js"><link rel="prefetch" href="/onedocs/assets/js/78.b2d1fda6.js"><link rel="prefetch" href="/onedocs/assets/js/79.fd07f1e2.js"><link rel="prefetch" href="/onedocs/assets/js/8.802bff83.js"><link rel="prefetch" href="/onedocs/assets/js/80.85942e54.js"><link rel="prefetch" href="/onedocs/assets/js/81.2574794f.js"><link rel="prefetch" href="/onedocs/assets/js/82.7d47a6f1.js"><link rel="prefetch" href="/onedocs/assets/js/83.b4356243.js"><link rel="prefetch" href="/onedocs/assets/js/84.76cc2ece.js"><link rel="prefetch" href="/onedocs/assets/js/85.72cd4d91.js"><link rel="prefetch" href="/onedocs/assets/js/86.fdf59225.js"><link rel="prefetch" href="/onedocs/assets/js/87.e3150bf3.js"><link rel="prefetch" href="/onedocs/assets/js/88.15de999d.js"><link rel="prefetch" href="/onedocs/assets/js/89.cac17398.js"><link rel="prefetch" href="/onedocs/assets/js/9.498be72e.js"><link rel="prefetch" href="/onedocs/assets/js/90.70a25c07.js"><link rel="prefetch" href="/onedocs/assets/js/91.cb831ed3.js"><link rel="prefetch" href="/onedocs/assets/js/92.83903f87.js"><link rel="prefetch" href="/onedocs/assets/js/93.903f40c7.js"><link rel="prefetch" href="/onedocs/assets/js/94.2461a910.js"><link rel="prefetch" href="/onedocs/assets/js/95.90f79d32.js"><link rel="prefetch" href="/onedocs/assets/js/96.8d2a3eba.js"><link rel="prefetch" href="/onedocs/assets/js/97.278471f8.js"><link rel="prefetch" href="/onedocs/assets/js/98.21333cbd.js"><link rel="prefetch" href="/onedocs/assets/js/99.133a3591.js">
    <link rel="stylesheet" href="/onedocs/assets/css/0.styles.de272f6a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/onedocs/" class="home-link router-link-active"><img src="/onedocs/logo.png" alt="毫末之木" class="logo"> <span class="site-name can-hide">毫末之木</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/onedocs/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/JVM/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/javaapi/" class="nav-link">
  javaapi
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/mybatis/" class="nav-link router-link-active">
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/juc/" class="nav-link">
  多线程
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring系列" class="dropdown-title"><span class="title">Spring系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/spring/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/springmvc/" class="nav-link">
  spring-mvc
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/springboot/" class="nav-link">
  spring-boot
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/springcloud/" class="nav-link">
  spring-cloud
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/springsecurity/" class="nav-link">
  spring-security
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><span class="title">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/db/" class="nav-link">
  db
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/redis/" class="nav-link">
  redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/front/" class="nav-link">
  前端
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="互联网" class="dropdown-title"><span class="title">互联网</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/mq/" class="nav-link">
  消息中间件
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/internet/" class="nav-link">
  互联网
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/interview/" class="nav-link">
  面试
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具集" class="dropdown-title"><span class="title">工具集</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/web/" class="nav-link">
  web
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/maven/" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/github/" class="nav-link">
  github
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/browser/" class="nav-link">
  browser
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/idea/" class="nav-link">
  idea
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/shihe110" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/onedocs/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/JVM/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/javaapi/" class="nav-link">
  javaapi
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/mybatis/" class="nav-link router-link-active">
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/juc/" class="nav-link">
  多线程
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring系列" class="dropdown-title"><span class="title">Spring系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/spring/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/springmvc/" class="nav-link">
  spring-mvc
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/springboot/" class="nav-link">
  spring-boot
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/springcloud/" class="nav-link">
  spring-cloud
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/springsecurity/" class="nav-link">
  spring-security
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><span class="title">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/db/" class="nav-link">
  db
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/redis/" class="nav-link">
  redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/front/" class="nav-link">
  前端
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="互联网" class="dropdown-title"><span class="title">互联网</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/mq/" class="nav-link">
  消息中间件
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/internet/" class="nav-link">
  互联网
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/interview/" class="nav-link">
  面试
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具集" class="dropdown-title"><span class="title">工具集</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/onedocs/web/" class="nav-link">
  web
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/maven/" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/github/" class="nav-link">
  github
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/browser/" class="nav-link">
  browser
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/onedocs/idea/" class="nav-link">
  idea
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/shihe110" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>mybatis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/onedocs/mybatis/1-mybatis3.5.2新特性.html" class="sidebar-link">mybatis3.5.2新特性</a></li><li><a href="/onedocs/mybatis/2-mybatis概述.html" class="sidebar-link">mybatis概述</a></li><li><a href="/onedocs/mybatis/3-mybatis入门.html" class="active sidebar-link">mybatis入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/onedocs/mybatis/3-mybatis入门.html#mybatis入门" class="sidebar-link">mybatis入门</a></li></ul></li><li><a href="/onedocs/mybatis/3-mybatis配置.html" class="sidebar-link">mybatis配置</a></li><li><a href="/onedocs/mybatis/4-mybatis标签.html" class="sidebar-link">mybatis标签</a></li><li><a href="/onedocs/mybatis/5-mybatis-resultMap.html" class="sidebar-link">mybatis resultMap</a></li><li><a href="/onedocs/mybatis/6-mybatis查询.html" class="sidebar-link">mybatis查询</a></li><li><a href="/onedocs/mybatis/" aria-current="page" class="sidebar-link">/mybatis/</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="mybatis入门"><a href="#mybatis入门" class="header-anchor">#</a> mybatis入门</h2> <h3 id="新建maven项目安装依赖"><a href="#新建maven项目安装依赖" class="header-anchor">#</a> 新建maven项目安装依赖</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org<span class="token punctuation">.</span>mybatis<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>mybatis<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>x<span class="token punctuation">.</span>x<span class="token punctuation">.</span>x<span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
</code></pre></div><p>或者非maven项目，将mybatis-x.x.x.jar置于类路径（classpath）下。</p> <h3 id="构建sqlsessionfactory的两种方式"><a href="#构建sqlsessionfactory的两种方式" class="header-anchor">#</a> 构建SqlSessionFactory的两种方式</h3> <p>每个基于mybatis的应用都是以一个SqlSessionFactory的实例为核心的。SqlSessionFactory 的实例可以通过 SqlSessionFactoryBuilder 获得。而 SqlSessionFactoryBuilder 则可以从 XML 配置文件或一个预先配置的 Configuration 实例来构建出 SqlSessionFactory 实例。</p> <ul><li>1.从xml中构建
加载数据源配置，构建SqlSessionFactory</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>String resource <span class="token operator">=</span> <span class="token string">&quot;org/mybatis/example/mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
InputStream inputStream <span class="token operator">=</span> Resources<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
SqlSessionFactory sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>数据源等配置，XML 配置文件中包含了对 MyBatis 系统的核心设置，包括获取数据库连接实例的数据源（DataSource）以及决定事务作用域和控制方式的事务管理器（TransactionManager）等。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span> <span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> configuration
  <span class="token constant">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>configuration<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>environments <span class="token keyword">default</span><span class="token operator">=</span><span class="token string">&quot;development&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>environment id<span class="token operator">=</span><span class="token string">&quot;development&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>transactionManager type<span class="token operator">=</span><span class="token string">&quot;JDBC&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>dataSource type<span class="token operator">=</span><span class="token string">&quot;POOLED&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">&quot;driver&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;${driver}&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">&quot;url&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;${url}&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">&quot;username&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;${username}&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">&quot;password&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;${password}&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>dataSource<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>environment<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>environments<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>mappers<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>mapper resource<span class="token operator">=</span><span class="token string">&quot;org/mybatis/example/BlogMapper.xml&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>mappers<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>configuration<span class="token operator">&gt;</span>
</code></pre></div><ul><li>2.java构建（SqlSessionFactoryBuilder）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>DataSource dataSource <span class="token operator">=</span> BlogDataSourceFactory<span class="token punctuation">.</span><span class="token function">getBlogDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
TransactionFactory transactionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JdbcTransactionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Environment environment <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Environment</span><span class="token punctuation">(</span><span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span> transactionFactory<span class="token punctuation">,</span> dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
Configuration configuration <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span>environment<span class="token punctuation">)</span><span class="token punctuation">;</span>
configuration<span class="token punctuation">.</span><span class="token function">addMapper</span><span class="token punctuation">(</span>BlogMapper<span class="token punctuation">.</span>class<span class="token punctuation">)</span><span class="token punctuation">;</span>
SqlSessionFactory sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="从sqlsessionfactory中获取sqlsession"><a href="#从sqlsessionfactory中获取sqlsession" class="header-anchor">#</a> 从SqlSessionFactory中获取SqlSession</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">try</span> <span class="token punctuation">(</span>SqlSession session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Blog blog <span class="token operator">=</span> <span class="token punctuation">(</span>Blog<span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">selectOne</span><span class="token punctuation">(</span><span class="token string">&quot;org.mybatis.example.BlogMapper.selectBlog&quot;</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>对使用旧版本 MyBatis 的用户来说也比较熟悉。但现在有了一种更简洁的方式——使用和指定语句的参数和返回值相匹配的接口（比如 BlogMapper.class），现在你的代码不仅更清晰，更加类型安全，还不用担心可能出错的字符串字面值以及强制类型转换。</p> <p>例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">try</span> <span class="token punctuation">(</span>SqlSession session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  BlogMapper mapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span>BlogMapper<span class="token punctuation">.</span>class<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Blog blog <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectBlog</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="基于xml映射sql语句"><a href="#基于xml映射sql语句" class="header-anchor">#</a> 基于xml映射sql语句</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span> <span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> mapper
  <span class="token constant">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>mapper namespace<span class="token operator">=</span><span class="token string">&quot;org.mybatis.example.BlogMapper&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">&quot;selectBlog&quot;</span> resultType<span class="token operator">=</span><span class="token string">&quot;Blog&quot;</span><span class="token operator">&gt;</span>
    select <span class="token operator">*</span> <span class="token keyword">from</span> Blog where id <span class="token operator">=</span> #<span class="token punctuation">{</span>id<span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>mapper<span class="token operator">&gt;</span>
</code></pre></div><p>命名解析：为了减少输入量，MyBatis 对所有具有名称的配置元素（包括语句，结果映射，缓存等）使用了如下的命名解析规则。</p> <ul><li>全限定名（比如 “com.mypackage.MyMapper.selectAllThings）将被直接用于查找及使用。</li> <li>短名称（比如 “selectAllThings”）如果全局唯一也可以作为一个单独的引用。 如果不唯一，有两个或两个以上的相同名称（比如 “com.foo.selectAllThings” 和 “com.bar.selectAllThings”），那么使用时就会产生“短名称不唯一”的错误，这种情况下就必须使用全限定名。</li></ul> <h3 id="基于注解映射sql语句"><a href="#基于注解映射sql语句" class="header-anchor">#</a> 基于注解映射sql语句</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">package</span> org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>example<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BlogMapper</span> <span class="token punctuation">{</span>
  @<span class="token function">Select</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM blog WHERE id = #{id}&quot;</span><span class="token punctuation">)</span>
  Blog <span class="token function">selectBlog</span><span class="token punctuation">(</span>int id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="作用域（scope）和生命周期"><a href="#作用域（scope）和生命周期" class="header-anchor">#</a> 作用域（Scope）和生命周期</h3> <p>SqlSessionFactoryBuilder
这个类可以被实例化、使用和丢弃，一旦创建了 SqlSessionFactory，就不再需要它了。 因此 SqlSessionFactoryBuilder 实例的最佳作用域是方法作用域（也就是局部方法变量）。 你可以重用 SqlSessionFactoryBuilder 来创建多个 SqlSessionFactory 实例，但最好还是不要一直保留着它，以保证所有的 XML 解析资源可以被释放给更重要的事情。</p> <p>SqlSessionFactory
SqlSessionFactory 一旦被创建就应该在应用的运行期间一直存在，没有任何理由丢弃它或重新创建另一个实例。 使用 SqlSessionFactory 的最佳实践是在应用运行期间不要重复创建多次，多次重建 SqlSessionFactory 被视为一种代码“坏习惯”。因此 SqlSessionFactory 的最佳作用域是应用作用域。 有很多方法可以做到，最简单的就是使用单例模式或者静态单例模式。</p> <p>SqlSession
每个线程都应该有它自己的 SqlSession 实例。SqlSession 的实例不是线程安全的，因此是不能被共享的，所以它的最佳的作用域是请求或方法作用域。 绝对不能将 SqlSession 实例的引用放在一个类的静态域，甚至一个类的实例变量也不行。 也绝不能将 SqlSession 实例的引用放在任何类型的托管作用域中，比如 Servlet 框架中的 HttpSession。 如果你现在正在使用一种 Web 框架，考虑将 SqlSession 放在一个和 HTTP 请求相似的作用域中。 换句话说，每次收到 HTTP 请求，就可以打开一个 SqlSession，返回一个响应后，就关闭它。 这个关闭操作很重要，为了确保每次都能执行关闭操作，你应该把这个关闭操作放到 finally 块中。 下面的示例就是一个确保 SqlSession 关闭的标准模式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">try</span> <span class="token punctuation">(</span>SqlSession session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 你的应用逻辑代码</span>
<span class="token punctuation">}</span>
</code></pre></div><p>绝对不能将 SqlSession 实例的引用放在一个类的静态字段或实例字段中。打开一个 SqlSession；使用完毕就要关闭它。通常把这个关闭操作放到 finally 块中以确保每次都能执行关闭</p> <p>在所有代码中都遵循这种使用模式，可以保证所有数据库资源都能被正确地关闭。</p> <p>如果使用spring等依赖注入框架，可完全不用考虑声明周期的问题，这些框架可以创建线程安全的、基于事务的 SqlSession 和映射器，并注入到你的bean中。</p> <p>映射器实例
映射器是一些绑定映射语句的接口。映射器接口的实例是从 SqlSession 中获得的。虽然从技术层面上来讲，任何映射器实例的最大作用域与请求它们的 SqlSession 相同。但方法作用域才是映射器实例的最合适的作用域。 也就是说，映射器实例应该在调用它们的方法中被获取，使用完毕之后即可丢弃。 映射器实例并不需要被显式地关闭。尽管在整个请求作用域保留映射器实例不会有什么问题，但是你很快会发现，在这个作用域上管理太多像 SqlSession 的资源会让你忙不过来。 因此，最好将映射器放在方法作用域内。就像下面的例子一样：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">try</span> <span class="token punctuation">(</span>SqlSession session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  BlogMapper mapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span>BlogMapper<span class="token punctuation">.</span>class<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 你的应用逻辑代码</span>
<span class="token punctuation">}</span>
</code></pre></div><p>基于此，可以对SqlSessionFactory进行封装。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SqlSessionFactoryUtils</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> SqlSessionFactory <span class="token constant">SQL_SESSION_FACTORY</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> SqlSessionFactory <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">SQL_SESSION_FACTORY</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token constant">SQL_SESSION_FACTORY</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>Resources<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>IOException e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token constant">SQL_SESSION_FACTORY</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/onedocs/mybatis/2-mybatis概述.html" class="prev">
        mybatis概述
      </a></span> <span class="next"><a href="/onedocs/mybatis/3-mybatis配置.html">
        mybatis配置
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/onedocs/assets/js/app.ffe45532.js" defer></script><script src="/onedocs/assets/js/2.2038ef08.js" defer></script><script src="/onedocs/assets/js/69.b5e43a27.js" defer></script>
  </body>
</html>
